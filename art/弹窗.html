<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="http://xl_public_service.gitlab.xunlei.cn/thunder-ui/_dist/thunder-ui.css">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/activity-common.css">
  <link rel="stylesheet" href="css/activity.css">
  <link href="https://vjs.zencdn.net/7.1.0/video-js.css" rel="stylesheet">
  <title>弹窗</title>
</head>

<body>
  <div class="act-wrap">
    <div class="td-cover">
      <!-- 图片 -->
      <div class="td-dialog">
        <div class="td-dialog__header">
          <a href="#" class="td-dialog__close" title="关闭">
            <i class="td-icon-close"></i>
          </a>
        </div>
        <div class="td-dialog__body">
          <div class="act-dialog-picture">
            <div class="act-dialog-picture__content">
              <ul>
                <li>
                  <img src="http://static-xl9-ssl.xunlei.com/images/201808/66070c55c7c88b583c7c211b2217adab.jpg?w=1872&h=950"
                    alt="">
                </li>
                <li>
                  <img src="http://static-xl9-ssl.xunlei.com/images/201808/4f738170a96738aec71ac41f6de1b44f.jpg?w=1872&h=950"
                    alt="">
                </li>
                <li>
                  <img src="http://static-xl9-ssl.xunlei.com/images/201808/66070c55c7c88b583c7c211b2217adab.jpg?w=1872&h=950"
                    alt="">
                </li>
                <li>
                  <img src="http://static-xl9-ssl.xunlei.com/images/201808/4f738170a96738aec71ac41f6de1b44f.jpg?w=1872&h=950"
                    alt="">
                </li>
                <li>
                  <img src="http://static-xl9-ssl.xunlei.com/images/201808/66070c55c7c88b583c7c211b2217adab.jpg?w=1872&h=950"
                    alt="">
                </li>
              </ul>
              <p class="act-dialog-picture__number"><span>1</span>/ <span>5</span> </p>
              <a href="javascript:;" class="art-btn-pre" title="下翻"></a>
              <a href="javascript:;" class="art-btn-next" title="下翻"></a>
            </div>
            <div class="act-dialog-picture__text">
              <h3 class="title">3.2分《阿修罗》一出，《封神传奇》笑了！</h3>
              <p class="text">马上6月了，又是一年高考季，很多高三党留言说要备考了，不能和君君一起看电影了，这让君君回想起我高考的时候——教室的标语比春联更密集，高考倒...</p>
            </div>
          </div>
        </div>

      </div>
      <!-- 视频 -->
      <div class="td-dialog">
        <div class="td-dialog__header">
          <h2>【羞羞的影评136】史上最全20个版本的黄蓉，你最爱哪个？</h2>
          <a href="#" class="td-dialog__close" title="关闭">
            <i class="td-icon-close"></i>
          </a>
        </div>
        <div class="td-dialog__body">
          <div class="act-dialog-video">
            <video id="my-video" class="vjs-tech" style="width:100%;height:100%;" preload="auto" poster="http://pc.wangpan.xycdn.n0808.com/f3d33272d1a294d3da4aad1436ce5fc4"
              tabindex="-1" src="http://pc.wangpan.xycdn.n0808.com/f6fc980384211fefd7bfeed71bdbd78db3e01538">
              <source src="http://pc.wangpan.xycdn.n0808.com/f6fc980384211fefd7bfeed71bdbd78db3e01538" type="video/mp4">
            </video>

          </div>
        </div>

      </div>
    </div>
  </div>
  <script src="https://vjs.zencdn.net/7.1.0/video.js"></script>
  <script>
    videojs('#my-video', {
      fluid: true
    });

    var list = document.querySelector(".act-dialog-picture__content"),
      img = list.querySelectorAll("li"),
      length = img.length,
      w = list.offsetWidth,
      btnPre = document.querySelector(".art-btn-pre"),
      btnNext = document.querySelector(".art-btn-next"),
      number = document.querySelectorAll(".act-dialog-picture__number span"),
      arr = [],
      m = 1;
    for (n = 0; n < length - 1; n++) {
      attr = n * w;
      arr.push(attr)
    }
    arr.push(-w);

    btnPre.addEventListener("click", function () {
      if (Math.abs(m) == 1) {
        m = length;
      } else {
        m -= 1;
      }
      var temp = arr[0];
      for (var i = 0; i < arr.length - 1; i++) {
        arr[i] = arr[i + 1]
      }
      arr[arr.length - 1] = temp;
      imageChange();

    })

    btnNext.addEventListener("click", function () {
      if (m < length) {
        m += 1;
      } else {
        m = 1;
      }
      var temp = arr[arr.length - 1];
      for (var i = arr.length - 1; i > 0; i--) {
        arr[i] = arr[i - 1];
      }
      arr[0] = temp;
      imageChange();

    })

    function imageChange() {
      for (var i = 0; i < length; i++) {
        img[i].style.transform = 'translate3d(' + arr[i] + 'px,0,0)';
        img[i].style.zIndex = arr[i] == "0" ? "2" : "0";
      }
      number[0].innerHTML = m;
      number[1].innerHTML = length;
    }
    imageChange();
  </script>
</body>

</html>